/* Copyright (c) 2015 Michio Yokomizo (mrpepper023) control-structures.js is released under the MIT License, see https://github.com/mrpepper023/control-structures */var bind=function(t,n){return function(){return t.apply(n,arguments)}};!function(t,n){return t.cs=n()}(this,function(){var t;return{y:function(t){return function(n){return function(){return t(n(n)).apply(this,arguments)}}(function(n){return function(){return t(n(n)).apply(this,arguments)}})},_:function(){var t,n;return t=[].slice.call(arguments),n=t.shift(),this.y(function(n){return function(){var r,u;return r=t.shift(),null!=r?(u=[].slice.call(arguments),u.unshift(n),r.apply(this,u)):void 0}}).apply(this,n)},_each:function(t,n,r,u){return function(i){var e,a,c,l,s,p,o,f,h,y;if(a="Array"===Object.prototype.toString.call(t).slice(8,-1),o=0,p=i(),a){for(f=[],e=c=0,s=t.length;s>c;e=++c)y=t[e],o++,f.push(r.apply(this,[y,e,function(){return p.apply(this,[o,u].concat([].slice.call(arguments)))}].concat(n)));return f}h=[];for(l in t)y=t[l],o++,h.push(r.apply(this,[l,y,function(){return p.apply(this,[o,u].concat([].slice.call(arguments)))}].concat(n)));return h}(function(){var t,n;return t=0,n=[],function(r,u){var i,e,a,c,l;if(t++,arguments.length>0)for(e=[].slice.call(arguments),e.shift(),e.shift(),a=c=0,l=e.length;l>c;a=++c)i=e[a],n.length<=a&&n.push([]),n[a].push(i);return t===r?u.apply(this,n):void 0}})},_for:function(t,n,r,u,i,e){return this.y(function(u){return function(){return n(t)?i.apply(this,[t,function(){return e.apply(this,[t].concat([].slice.call(arguments)))},function(){return t=r(t),u.apply(this,arguments)}].concat([].slice.call(arguments))):e.apply(this,[t].concat([].slice.call(arguments)))}}).apply(this,u)},_for_in:function(t,n,r,u){var i,e,a;return i=-1,a="Array"===Object.prototype.toString.call(t).slice(8,-1),e=a?t.length:Object.keys(t).length,this.y(function(n){return function(){var c,l;return i+=1,e>i?a?r.apply(this,[t[i],i,function(){return u.apply(this,arguments)},function(){return n.apply(this,arguments)}].concat([].slice.call(arguments))):(c=Object.keys(t)[i],l=t[c],r.apply(this,[c,l,function(){return u.apply(this,arguments)},function(){return n.apply(this,arguments)}].concat([].slice.call(arguments)))):u.apply(this,arguments)}}).apply(this,n)},_while:function(t,n,r){return this.y(function(t){return function(){var u;return u=[].slice.call(arguments),u.unshift(function(){return t.apply(this,arguments)}),u.unshift(function(){return r.apply(this,arguments)}),n.apply(this,u)}}).apply(this,t)},exc:t=function(){function t(){this._throw=bind(this._throw,this)}var n,r,u,i;return n=[],t.prototype._try=function(t,r,u,i,e,a){return n.push({e_array:u,_catch:i,_finally:e,next:a}),r.apply(this,t)},u=function(){var t;return t=n.pop(),t._finally.apply(this,[].slice.call(arguments))},t.prototype._finally=function(){var t;return t=n.pop(),t._finally.apply(this,[t.next].concat([].slice.call(arguments)))},i=function(t){return function(n){return function(){return t(n(n)).apply(this,arguments)}}(function(n){return function(){return t(n(n)).apply(this,arguments)}})},r=function(t,n,r){return null!=t&&(t=[]),i(function(t){return function(){return n.apply(this,[function(){return r.apply(this,arguments)},function(){return t.apply(this,arguments)}].concat([].slice.call(arguments)))}}).apply(this,t)},t.prototype._throw=function(t){var i;return i={},r([],function(r){return function(e,a){var c;return i=n.pop(),null!=i?(n.push(i),c=i.e_array.indexOf(t),-1!==c?i._catch.apply(r,[t].concat([].slice.call(arguments))):arguments.length<=2?u.apply(r,[a]):u.apply(r,[].slice.call(arguments).shift().shift().unshift(a))):e()}}(this),function(){return console.log("uncaught exception: "+t.toString()),process.exit(1)})},t}()}});