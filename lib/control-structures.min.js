/* Copyright (c) 2015 Michio Yokomizo (mrpepper023) control-structures.js is released under the MIT License, see https://github.com/mrpepper023/control-structures */var bind=function(t,n){return function(){return t.apply(n,arguments)}};!function(t,n){return t.cs=n()}(this,function(){var t;return{y:function(t){return function(n){return function(){return t(n(n)).apply(this,arguments)}}(function(n){return function(){return t(n(n)).apply(this,arguments)}})},_:function(){var t,n;return t=[].slice.call(arguments),n=t.shift(),this.y(function(n){return function(){var r,u;return r=t.shift(),null!=r?(u=[].slice.call(arguments),u.unshift(n),r.apply(this,u)):void 0}}).apply(this,n)},_each:function(t,n,r,u){return function(i){var e,c,a,l,s,p,o,f,h,y;if(c="Array"===Object.prototype.toString.call(t).slice(8,-1),o=0,p=i(),c){for(f=[],e=a=0,s=t.length;s>a;e=++a)y=t[e],o++,f.push(r.apply(this,[y,e,function(){return p.apply(this,[o,u].concat([].slice.call(arguments)))}].concat(n)));return f}h=[];for(l in t)y=t[l],o++,h.push(r.apply(this,[l,y,function(){return p.apply(this,[o,u].concat([].slice.call(arguments)))}].concat(n)));return h}(function(){var t,n;return t=0,n=[],function(r,u){var i,e,c,a,l;if(t++,arguments.length>0)for(e=[].slice.call(arguments).shift().shift(),c=a=0,l=e.length;l>a;c=++a)i=e[c],n.length<=c&&n.push([]),n[c].push(i);return t===r?u.apply(this,n):void 0}})},_for:function(t,n,r,u,i,e){return null!=u&&(u=[]),this.y(function(u){return function(){return n(t)?i.apply(this,[t,function(){return e.apply(this,[t].concat([].slice.call(arguments)))},function(){return t=r(t),u.apply(this,arguments)}].concat([].slice.call(arguments))):e.apply(this,[t].concat([].slice.call(arguments)))}}).apply(this,u)},_for_in:function(t,n,r,u){var i,e,c;return i=0,c="Array"===Object.prototype.toString.call(t).slice(8,-1),e=c?t.length:Object.keys(t).length,this.y(function(n){return function(){var a,l;return e>i?c?r.apply(this,[t[i],i,function(){return u.apply(this,arguments)},function(){return n.apply(this,arguments)}].concat([].slice.call(arguments))):(a=Object.keys(t)[i],l=t[a],r.apply(this,[a,l,function(){return u.apply(this,arguments)},function(){return n.apply(this,arguments)}].concat([].slice.call(arguments)))):u.apply(this,arguments)}})(n)},_while:function(t,n,r){return null!=t&&(t=[]),this.y(function(t){return function(){return n.apply(this,[function(){return r.apply(this,[].slice.call(arguments))},function(){return t.apply(this,arguments)}].concat([].slice.call(arguments)))}})().apply(this,t)},exc:t=function(){function t(){this._throw=bind(this._throw,this)}var n,r,u,i;return n=[],t.prototype._try=function(t,r,u,i,e,c){return n.push({e_array:u,_catch:i,_finally:e,next:c}),r.apply(this,t)},u=function(){var t;return t=n.pop(),t._finally.apply(this,[].slice.call(arguments))},t.prototype._finally=function(){var t;return t=n.pop(),t._finally.apply(this,[t.next].concat([].slice.call(arguments)))},i=function(t){return function(n){return function(){return t(n(n)).apply(this,arguments)}}(function(n){return function(){return t(n(n)).apply(this,arguments)}})},r=function(t,n,r){return null!=t&&(t=[]),i(function(t){return function(){return n.apply(this,[function(){return r.apply(this,[].slice.call(arguments))},function(){return t.apply(this,arguments)}].concat([].slice.call(arguments)))}})().apply(this,t)},t.prototype._throw=function(t){var i;return i={},r([],function(r){return function(e,c){var a;return i=n.pop(),null!=i?(n.push(i),a=i.e_array.indexOf(t),-1!==a?i._catch.apply(r,[t].concat([].slice.call(arguments))):arguments.length<=2?u.apply(r,[c]):u.apply(r,[].slice.call(arguments).shift().shift().unshift(c))):e()}}(this),function(){return console.log("uncaught exception: "+t.toString()),process.exit(1)})},t}()}});