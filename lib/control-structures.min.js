/* Copyright (c) 2015 Michio Yokomizo (mrpepper023) control-structures.js is released under the MIT License, see https://github.com/mrpepper023/control-structures */var _while,exc,target,y,bind=function(n,t){return function(){return n.apply(t,arguments)}};target="undefined"!=typeof process&&"undefined"!=typeof require?this.cs:module.exports,target.y=y=function(n){return function(t){return function(){return n(t(t)).apply(this,arguments)}}(function(t){return function(){return n(t(t)).apply(this,arguments)}})},target._=function(){var n,t;return n=[].slice.call(arguments),t=n.shift(),y(function(t){return function(){var l,r;return l=n.shift(),null!=l?(r=[].slice.call(arguments),r.unshift(t),l.apply(this,r)):void 0}}).apply(this,t)},target._each=function(n,t,l,r){return function(u){var e,a,c,i,p,o,s,f,y,g;if(a="Array"===Object.prototype.toString.call(n).slice(8,-1),s=0,o=u(),a){for(f=[],e=c=0,p=n.length;p>c;e=++c)g=n[e],s++,f.push(l.apply(null,[g,e,function(){return o.apply(null,[s,r].concat([].slice.call(arguments)))}].concat(t)));return f}y=[];for(i in n)g=n[i],s++,y.push(l.apply(null,[i,g,function(){return o.apply(null,[s,r].concat([].slice.call(arguments)))}].concat(t)));return y}(function(){var n,t;return n=0,t=[],function(l,r){var u,e,a,c,i;if(n++,arguments.length>0)for(e=[].slice.call(arguments).shift().shift(),a=c=0,i=e.length;i>c;a=++c)u=e[a],t.length<=a&&t.push([]),t[a].push(u);return n===l?r.apply(null,t):void 0}})},target._for=function(n,t,l,r,u,e){return null!=r&&(r=[]),y(function(r){return function(){return t(n)?u.apply(null,[n,function(){return e.apply(null,[n].concat([].slice.call(arguments)))},function(){return n=l(n),r.apply(null,arguments)}].concat([].slice.call(arguments))):e.apply(null,[n].concat([].slice.call(arguments)))}}).apply(null,r)},target._for_in=function(n,t,l,r){var u,e,a;return u=0,a="Array"===Object.prototype.toString.call(n).slice(8,-1),e=a?n.length:Object.keys(n).length,y(function(t){return function(){var c,i;return e>u?a?l.apply(null,[n[u],u,function(){return r.apply(null,arguments)},function(){return t.apply(null,arguments)}].concat([].slice.call(arguments))):(c=Object.keys(n)[u],i=n[c],l.apply(null,[c,i,function(){return r.apply(null,arguments)},function(){return t.apply(null,arguments)}].concat([].slice.call(arguments)))):r.apply(null,arguments)}})(t)},target._while=_while=function(n,t,l,r){return null!=t&&(t=[]),y(function(t){return function(){return n.apply(null,arguments)?l.apply(null,[function(){return r.apply(null,[].slice.call(arguments))},function(){return t.apply(null,arguments)}].concat([].slice.call(arguments))):r.apply(null,[].slice.call(arguments))}}).apply(null,t)},target.exc=exc=function(){function n(){this._throw=bind(this._throw,this)}var t,l;return t=[],n.prototype._try=function(n,l,r,u,e,a){return t.push({e_array:r,_catch:u,_finally:e,next:a}),l.apply(this,n)},l=function(){var n;return n=t.pop(),n._finally.apply(null,[].slice.call(arguments))},n.prototype._finally=function(){var n;return n=t.pop(),n._finally.apply(null,[n.next].concat([].slice.call(arguments)))},n.prototype._throw=function(n){var r;return r={},_while(function(){return!0},[],function(u){return function(u,e){var a;return r=t.pop(),null!=r?(t.push(r),a=r.e_array.indexOf(n),-1!==a?r._catch.apply(null,[n].concat([].slice.call(arguments))):arguments.length<=2?l.apply(null,[e]):l.apply(null,[].slice.call(arguments).shift().shift().unshift(e))):u()}}(this),function(){return console.log("uncaught exception: "+n.toString()),process.exit(1)})},n}();