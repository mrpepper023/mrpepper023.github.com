/* Copyright (c) 2015 Michio Yokomizo (mrpepper023) control-structures.js is released under the MIT License, see https://github.com/mrpepper023/control-structures */var _w,exc,target,y,bind=function(t,n){return function(){return t.apply(n,arguments)}};target="undefined"!=typeof process&&"undefined"!=typeof require?this.cs:module.exports,target.y=y=function(t){return function(n){return function(){return t(n(n)).apply(this,arguments)}}(function(n){return function(){return t(n(n)).apply(this,arguments)}})},target._=function(){var t,n;return t=[].slice.call(arguments),n=t.shift(),y(function(n){return function(){var r,e;return r=t.shift(),null!=r?(e=[].slice.call(arguments),e.unshift(n),r.apply(this,e)):void 0}}).apply(this,n)},target._each=function(t,n,r,e){return function(u){var a,i,c,l,s,p,o,f,h,y;if(i="Array"===Object.prototype.toString.call(t).slice(8,-1),o=0,p=u(),i){for(f=[],a=c=0,s=t.length;s>c;a=++c)y=t[a],o++,f.push(r.apply(this,[y,a,function(){return p.apply(this,[o,e].concat([].slice.call(arguments)))}].concat(n)));return f}h=[];for(l in t)y=t[l],o++,h.push(r.apply(this,[l,y,function(){return p.apply(this,[o,e].concat([].slice.call(arguments)))}].concat(n)));return h}(function(){var t,n;return t=0,n=[],function(r,e){var u,a,i,c,l;if(t++,arguments.length>0)for(a=[].slice.call(arguments).shift().shift(),i=c=0,l=a.length;l>c;i=++c)u=a[i],n.length<=i&&n.push([]),n[i].push(u);return t===r?e.apply(this,n):void 0}})},target._for=function(t,n,r,e,u,a){return null!=e&&(e=[]),y(function(e){return function(){return n(t)?u.apply(this,[t,function(){return a.apply(this,[t].concat([].slice.call(arguments)))},function(){return t=r(t),e.apply(this,arguments)}].concat([].slice.call(arguments))):a.apply(this,[t].concat([].slice.call(arguments)))}}).apply(this,e)},target._for_in=function(t,n,r,e){var u,a,i;return u=0,i="Array"===Object.prototype.toString.call(t).slice(8,-1),a=i?t.length:Object.keys(t).length,y(function(n){return function(){var c,l;return a>u?i?r.apply(this,[t[u],u,function(){return e.apply(this,arguments)},function(){return n.apply(this,arguments)}].concat([].slice.call(arguments))):(c=Object.keys(t)[u],l=t[c],r.apply(this,[c,l,function(){return e.apply(this,arguments)},function(){return n.apply(this,arguments)}].concat([].slice.call(arguments)))):e.apply(this,arguments)}})(n)},target._while=_w=function(t,n,r,e){return null!=n&&(n=[]),y(function(n){return function(){return t.apply(this,arguments)?r.apply(this,[function(){return e.apply(this,[].slice.call(arguments))},function(){return n.apply(this,arguments)}].concat([].slice.call(arguments))):e.apply(this,[].slice.call(arguments))}}).apply(this,n)},target.exc=exc=function(){function t(){this._throw=bind(this._throw,this)}var n,r;return n=[],t.prototype._try=function(t,r,e,u,a,i){return n.push({e_array:e,_catch:u,_finally:a,next:i}),r.apply(this,t)},r=function(){var t;return t=n.pop(),t._finally.apply(this,[].slice.call(arguments))},t.prototype._finally=function(){var t;return t=n.pop(),t._finally.apply(this,[t.next].concat([].slice.call(arguments)))},t.prototype._throw=function(t){var e;return e={},_w(function(){return!0},[],function(u){return function(a,i){var c;return e=n.pop(),null!=e?(n.push(e),c=e.e_array.indexOf(t),-1!==c?e._catch.apply(u,[t].concat([].slice.call(arguments))):arguments.length<=2?r.apply(u,[i]):r.apply(u,[].slice.call(arguments).shift().shift().unshift(i))):a()}}(this),function(){return console.log("uncaught exception: "+t.toString()),process.exit(1)})},t}();